(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{143:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return p}));var a=n(3),r=n(7),o=(n(0),n(149)),s={id:"assertions",title:"Assertions"},l={unversionedId:"assertions",id:"assertions",isDocsHomePage:!1,title:"Assertions",description:"The Playwright API can be used to read element contents and properties for test assertions. These values are fetched from the browser page and asserted in Node.js.",source:"@site/docs/assertions.md",slug:"/assertions",permalink:"/python/docs/assertions",version:"current",sidebar:"docs",previous:{title:"Network",permalink:"/python/docs/network"},next:{title:"Verification",permalink:"/python/docs/verification"}},c=[{value:"Common patterns",id:"common-patterns",children:[]},{value:"Element Handles",id:"element-handles",children:[]},{value:"Custom assertions",id:"custom-assertions",children:[]}],i={toc:c};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},i,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The Playwright API can be used to read element contents and properties for test assertions. These values are fetched from the browser page and asserted in Node.js."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"#common-patterns"}),"Common patterns")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"#element-handles"}),"Element Handles")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"#custom-assertions"}),"Custom assertions"))),Object(o.b)("h2",{id:"common-patterns"},"Common patterns"),Object(o.b)("p",null,"Playwright provides convenience APIs for common assertion tasks, like finding the text content of an element. These APIs require a ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/python/docs/selectors"}),"selector")," to locate the element."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"// This example uses the Node.js's built-in `assert` module,\n// but any assertion library (Expect, Chai, etc.) will work.\n\n// Assert text content\nconst content = await page.textContent('nav:first-child');\nassert(content === 'home');\n\n// Assert inner text\nconst text = await page.innerText('.selected');\nassert(text === 'value');\n\n// Assert inner HTML\nconst html = await page.innerHTML('div.result');\nassert(html === '<p>Result</p>')\n\n// Assert `checked` attribute\nconst checked = await page.getAttribute('input', 'checked');\nassert(checked);\n")),Object(o.b)("h4",{id:"api-reference"},"API reference"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-page#pagetextcontentselector-options"}),"page.text_content(selector, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-page#pageinnertextselector-options"}),"page.inner_text(selector, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-page#pageinnerhtmlselector-options"}),"page.inner_html(selector, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-page#pagegetattributeselector-name-options"}),"page.get_attribute(selector, name, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-frame#frametextcontentselector-options"}),"frame.text_content(selector, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-frame#frameinnertextselector-options"}),"frame.inner_text(selector, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-frame#frameinnerhtmlselector-options"}),"frame.inner_html(selector, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-frame#framegetattributeselector-name-options"}),"frame.get_attribute(selector, name, **options)"))),Object(o.b)("br",null),Object(o.b)("h2",{id:"element-handles"},"Element Handles"),Object(o.b)("p",null,Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/python/docs/api/class-elementhandle",title:"ElementHandle"}),"ElementHandle")," objects represent in-page DOM elements. They can be used to assert for multiple properties of the element."),Object(o.b)("p",null,"It is recommended to fetch the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/python/docs/api/class-elementhandle",title:"ElementHandle"}),"ElementHandle")," object with ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/python/docs/api/class-page#pagewaitforselectorselector-options"}),"page.wait_for_selector(selector, **options)")," or ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/python/docs/api/class-frame#framewaitforselectorselector-options"}),"frame.wait_for_selector(selector, **options)"),". These APIs wait for the element to be visible and then return an ",Object(o.b)("inlineCode",{parentName:"p"},"ElementHandle"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"// Get the element handle\nconst elementHandle = page.waitForSelector('#box');\n\n// Assert bounding box for the element\nconst boundingBox = await elementHandle.boundingBox();\nassert(boundingBox.width === 100);\n\n// Assert attribute for the element\nconst classNames = await elementHandle.getAttribute('class');\nassert(classNames.includes('highlighted'));\n")),Object(o.b)("h4",{id:"api-reference-1"},"API reference"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-elementhandle#elementhandletextcontent"}),"element_handle.text_content()")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-elementhandle#elementhandleinnertext"}),"element_handle.inner_text()")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-elementhandle#elementhandleinnerhtml"}),"element_handle.inner_html()")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-elementhandle#elementhandlegetattributename"}),"element_handle.get_attribute(name)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-elementhandle#elementhandleboundingbox"}),"element_handle.bounding_box()"))),Object(o.b)("br",null),Object(o.b)("h2",{id:"custom-assertions"},"Custom assertions"),Object(o.b)("p",null,"With Playwright, you can also write custom JavaScript to run in the context of the browser. This is useful in situations where you want to assert for values that are not covered by the convenience APIs above."),Object(o.b)("p",null,"The following APIs do not auto-wait for the element. It is recommended to use ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/python/docs/api/class-page#pagewaitforselectorselector-options"}),"page.wait_for_selector(selector, **options)")," or ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/python/docs/api/class-frame#framewaitforselectorselector-options"}),"frame.wait_for_selector(selector, **options)"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"// Assert local storage value\nconst userId = page.evaluate(() => window.localStorage.getItem('userId'));\nassert(userId);\n\n// Assert value for input element\nawait page.waitForSelector('#search');\nconst value = await page.$eval('#search', el => el.value);\nassert(value === 'query');\n\n// Assert computed style\nconst fontSize = await page.$eval('div', el => window.getComputedStyle(el).fontSize);\nassert(fontSize === '16px');\n\n// Assert list length\nconst length = await page.$$eval('li.selected', (items) => items.length);\nassert(length === 3);\n")),Object(o.b)("h4",{id:"api-reference-2"},"API reference"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-page#pageevaluatepagefunction-options"}),"page.evaluate(page_function, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-page#pageevalselector-pagefunction-options"}),"page.$eval(selector, page_function, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-page#pageevalselector-pagefunction-options-1"}),"page.$$eval(selector, page_function, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-frame#frameevaluatepagefunction-options"}),"frame.evaluate(page_function, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-frame#frameevalselector-pagefunction-options"}),"frame.$eval(selector, page_function, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-frame#frameevalselector-pagefunction-options-1"}),"frame.$$eval(selector, page_function, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-elementhandle#elementhandleevalselector-pagefunction-options"}),"element_handle.$eval(selector, page_function, **options)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/python/docs/api/class-elementhandle#elementhandleevalselector-pagefunction-options-1"}),"element_handle.$$eval(selector, page_function, **options)")),Object(o.b)("li",{parentName:"ul"},"[EvaluationArgument]")))}p.isMDXComponent=!0},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=r.a.createContext({}),p=function(e){var t=r.a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},b=function(e){var t=p(e.components);return r.a.createElement(i.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,i=c(e,["components","mdxType","originalType","parentName"]),b=p(n),u=a,d=b["".concat(s,".").concat(u)]||b[u]||m[u]||o;return n?r.a.createElement(d,l(l({ref:t},i),{},{components:n})):r.a.createElement(d,l({ref:t},i))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=u;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,s[1]=l;for(var i=2;i<o;i++)s[i]=n[i];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);