"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[68522],{84817:function(e,t,s){s.r(t),s.d(t,{frontMatter:function(){return i},contentTitle:function(){return p},metadata:function(){return c},toc:function(){return l},default:function(){return d}});var a=s(87462),n=s(63366),r=(s(67294),s(3905)),o=(s(26396),s(58215),["components"]),i={id:"class-screenshotassertions",title:"ScreenshotAssertions"},p=void 0,c={unversionedId:"api/class-screenshotassertions",id:"api/class-screenshotassertions",isDocsHomePage:!1,title:"ScreenshotAssertions",description:"Playwright provides methods for comparing page and element screenshots with expected values stored in files. See also expect(page).toHaveScreenshot([options]) and [LocatorAssertions.toHaveScreenshot].",source:"@site/docs/api/class-screenshotassertions.mdx",sourceDirName:"api",slug:"/api/class-screenshotassertions",permalink:"/docs/next/api/class-screenshotassertions",tags:[],version:"current",frontMatter:{id:"class-screenshotassertions",title:"ScreenshotAssertions"},sidebar:"api",previous:{title:"Route",permalink:"/docs/next/api/class-route"},next:{title:"Selectors",permalink:"/docs/next/api/class-selectors"}},l=[{value:"expect(screenshot).toMatchSnapshot(name, options)",id:"screenshot-assertions-to-match-snapshot",children:[],level:2}],h={toc:l};function d(e){var t=e.components,s=(0,n.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},h,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Playwright provides methods for comparing page and element screenshots with expected values stored in files. See also ",(0,r.kt)("a",{parentName:"p",href:"/docs/next/api/class-pageassertions#page-assertions-to-have-screenshot"},"expect(page).toHaveScreenshot([options])")," and ","[",(0,r.kt)("inlineCode",{parentName:"p"},"LocatorAssertions.toHaveScreenshot"),"]","."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"expect(screenshot).toMatchSnapshot('landing-page.png');\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/next/api/class-screenshotassertions#screenshot-assertions-to-match-snapshot"},"expect(screenshot).toMatchSnapshot(name[, options])"))),(0,r.kt)("h2",{id:"screenshot-assertions-to-match-snapshot"},"expect(screenshot).toMatchSnapshot(name","[, options]",")"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"screenshot-assertions-to-match-snapshot-option-name"})," ","<",(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"},"string"),"|",(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",title:"Array"},"Array"),"<",(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"},"string"),">",">"," Snapshot name.",(0,r.kt)("a",{href:"#screenshot-assertions-to-match-snapshot-option-name",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options")," ","<",(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"},"Object"),">",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"threshold"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"screenshot-assertions-to-match-snapshot-option-threshold"})," ","<",(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type",title:"Number"},"number"),">"," An acceptable perceived color difference in the ",(0,r.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/YIQ"},"YIQ color space")," between the same pixel in compared images, between zero (strict) and one (lax), default is configurable with ",(0,r.kt)("inlineCode",{parentName:"li"},"TestConfig.expect"),". Defaults to ",(0,r.kt)("inlineCode",{parentName:"li"},"0.2"),".",(0,r.kt)("a",{href:"#screenshot-assertions-to-match-snapshot-option-threshold",class:"list-anchor"},"#")))),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"screenshot-assertions-to-match-snapshot-return"})," ","<",(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"},"void"),">",(0,r.kt)("a",{href:"#screenshot-assertions-to-match-snapshot-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Ensures that passed value, either a ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"},"string")," or a ",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",title:"Buffer"},"Buffer"),", matches the expected snapshot stored in the test snapshots directory."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// Basic usage.\nexpect(await page.screenshot()).toMatchSnapshot('landing-page.png');\n\n// Configure image matching threshold.\nexpect(await page.screenshot()).toMatchSnapshot('landing-page.png', { threshold: 0.3 });\n\n// Bring some structure to your snapshot files by passing file path segments.\nexpect(await page.screenshot()).toMatchSnapshot(['landing', 'step2.png']);\nexpect(await page.screenshot()).toMatchSnapshot(['landing', 'step3.png']);\n")),(0,r.kt)("p",null,"Learn more about ",(0,r.kt)("a",{parentName:"p",href:"/docs/next/test-snapshots"},"visual comparisons"),"."))}d.isMDXComponent=!0}}]);