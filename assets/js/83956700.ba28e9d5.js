(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[54475],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return d}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),p=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(i.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(n),d=r,f=u["".concat(i,".").concat(d)]||u[d]||m[d]||s;return n?a.createElement(f,l(l({ref:t},c),{},{components:n})):a.createElement(f,l({ref:t},c))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,l=new Array(s);l[0]=u;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var p=2;p<s;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},25406:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return l},metadata:function(){return o},toc:function(){return i},default:function(){return c}});var a=n(22122),r=n(19756),s=(n(67294),n(3905)),l={id:"assertions",title:"Assertions"},o={unversionedId:"assertions",id:"version-1.2.0/assertions",isDocsHomePage:!1,title:"Assertions",description:"The Playwright API can be used to read element contents and properties for test assertions. These values are fetched from the browser page and asserted in",source:"@site/versioned_docs/version-1.2.0/assertions.mdx",sourceDirName:".",slug:"/assertions",permalink:"/docs/1.2.0/assertions",version:"1.2.0",frontMatter:{id:"assertions",title:"Assertions"},sidebar:"version-1.2.0/docs",previous:{title:"Network",permalink:"/docs/1.2.0/network"},next:{title:"Verification",permalink:"/docs/1.2.0/verification"}},i=[{value:"Common patterns",id:"common-patterns",children:[]},{value:"Element Handles",id:"element-handles",children:[]},{value:"Custom assertions",id:"custom-assertions",children:[]}],p={toc:i};function c(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,s.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"The Playwright API can be used to read element contents and properties for test assertions. These values are fetched from the browser page and asserted in\nNode.js."),(0,s.kt)("p",null,"The examples in this guide use the built-in ",(0,s.kt)("a",{parentName:"p",href:"https://nodejs.org/api/assert.html"},(0,s.kt)("inlineCode",{parentName:"a"},"assert")," module"),", but they can be used with any assertion library (like ",(0,s.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/expect"},"Expect")," or ",(0,s.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/chai"},"Chai"),"). See ",(0,s.kt)("a",{parentName:"p",href:"/docs/1.2.0/test-runners"},"Test runners")," for more info."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#common-patterns"},"Common patterns")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#element-handles"},"Element Handles")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#custom-assertions"},"Custom assertions"))),(0,s.kt)("br",null),(0,s.kt)("h2",{id:"common-patterns"},"Common patterns"),(0,s.kt)("p",null,"Playwright provides convenience APIs for common assertion tasks, like finding the\ntext content of an element. These APIs require a ",(0,s.kt)("a",{parentName:"p",href:"/docs/1.2.0/selectors"},"selector")," to locate\nthe element."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"// Assert text content\nconst content = await page.textContent('nav:first-child');\nassert(content === 'home');\n\n// Assert inner text\nconst text = await page.innerText('.selected');\nassert(text === 'value');\n\n// Assert inner HTML\nconst html = await page.innerHTML('div.result');\nassert(html === '<p>Result</p>')\n\n// Assert `checked` attribute\nconst checked = await page.getAttribute('input', 'checked');\nassert(checked);\n")),(0,s.kt)("h4",{id:"api-reference"},"API reference"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-page#pagetextcontentselector-options"},"page.textContent(selector[, options])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-page#pageinnertextselector-options"},"page.innerText(selector[, options])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-page#pageinnerhtmlselector-options"},"page.innerHTML(selector[, options])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-page#pagegetattributeselector-name-options"},"page.getAttribute(selector, name[, options])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-frame#frametextcontentselector-options"},"frame.textContent(selector[, options])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-frame#frameinnertextselector-options"},"frame.innerText(selector[, options])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-frame#frameinnerhtmlselector-options"},"frame.innerHTML(selector[, options])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-frame#framegetattributeselector-name-options"},"frame.getAttribute(selector, name[, options])"))),(0,s.kt)("br",null),(0,s.kt)("h2",{id:"element-handles"},"Element Handles"),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"/docs/1.2.0/api/class-elementhandle#class-elementhandle"},"ElementHandle")," objects represent in-page DOM\nelements. They can be used to assert for multiple properties of the element."),(0,s.kt)("p",null,"It is recommended to fetch the ",(0,s.kt)("inlineCode",{parentName:"p"},"ElementHandle")," object with\n",(0,s.kt)("a",{parentName:"p",href:"/docs/1.2.0/api/class-page#pagewaitforselectorselector-options"},(0,s.kt)("inlineCode",{parentName:"a"},"page.waitForSelector"))," or\n",(0,s.kt)("a",{parentName:"p",href:"/docs/1.2.0/api/class-frame#framewaitforselectorselector-options"},(0,s.kt)("inlineCode",{parentName:"a"},"frame.waitForSelector")),". These\nAPIs wait for the element to be visible and then return an ",(0,s.kt)("inlineCode",{parentName:"p"},"ElementHandle"),"."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"// Get the element handle\nconst elementHandle = page.waitForSelector('#box');\n\n// Assert bounding box for the element\nconst boundingBox = await elementHandle.boundingBox();\nassert(boundingBox.width === 100);\n\n// Assert attribute for the element\nconst classNames = await elementHandle.getAttribute('class');\nassert(classNames.includes('highlighted'));\n")),(0,s.kt)("h4",{id:"api-reference-1"},"API reference"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-elementhandle#elementhandletextcontent"},"elementHandle.textContent()")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-elementhandle#elementhandleinnertext"},"elementHandle.innerText()")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-elementhandle#elementhandleinnerhtml"},"elementHandle.innerHTML()")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-elementhandle#elementhandlegetattributename"},"elementHandle.getAttribute(name)")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-elementhandle#elementhandleboundingbox"},"elementHandle.boundingBox()"))),(0,s.kt)("br",null),(0,s.kt)("h2",{id:"custom-assertions"},"Custom assertions"),(0,s.kt)("p",null,"With Playwright, you can also write custom JavaScript to run in the context of\nthe browser. This is useful in situations where you want to assert for values\nthat are not covered by the convenience APIs above."),(0,s.kt)("p",null,"The following APIs do not auto-wait for the element. It is recommended to use\n",(0,s.kt)("a",{parentName:"p",href:"/docs/1.2.0/api/class-page#pagewaitforselectorselector-options"},(0,s.kt)("inlineCode",{parentName:"a"},"page.waitForSelector"))," or\n",(0,s.kt)("a",{parentName:"p",href:"/docs/1.2.0/api/class-frame#framewaitforselectorselector-options"},(0,s.kt)("inlineCode",{parentName:"a"},"frame.waitForSelector")),"."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"// Assert local storage value\nconst userId = page.evaluate(() => window.localStorage.getItem('userId'));\nassert(userId);\n\n// Assert value for input element\nawait page.waitForSelector('#search');\nconst value = await page.$eval('#search', el => el.value);\nassert(value === 'query');\n\n// Assert computed style\nconst fontSize = await page.$eval('div', el => window.getComputedStyle(el).fontSize);\nassert(fontSize === '16px');\n\n// Assert list length\nconst length = await page.$$eval('li.selected', (items) => items.length);\nassert(length === 3);\n")),(0,s.kt)("h4",{id:"api-reference-2"},"API reference"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-page#pageevaluatepagefunction-arg"},"page.evaluate(pageFunction[, arg])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-page#pageevalselector-pagefunction-arg"},"page.$eval(selector, pageFunction[, arg])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-page#pageevalselector-pagefunction-arg-1"},"page.$$eval(selector, pageFunction[, arg])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-frame#frameevaluatepagefunction-arg"},"frame.evaluate(pageFunction[, arg])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-frame#frameevalselector-pagefunction-arg"},"frame.$eval(selector, pageFunction[, arg])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-frame#frameevalselector-pagefunction-arg-1"},"frame.$$eval(selector, pageFunction[, arg])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-elementhandle#elementhandleevalselector-pagefunction-arg"},"elementHandle.$eval(selector, pageFunction[, arg])")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/1.2.0/api/class-elementhandle#elementhandleevalselector-pagefunction-arg-1"},"elementHandle.$$eval(selector, pageFunction[, arg])"))))}c.isMDXComponent=!0}}]);